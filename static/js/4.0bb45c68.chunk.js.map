{"version":3,"sources":["components/Messages/Dialog/DialogLink.js","components/Messages/DialogMessages/DialogMessages.js","components/Messages/Messages.js","components/Messages/MessagesContainer.js"],"names":["DialogLink","messageinfo","path","id","to","className","sender","time","lastmessage","DialogMessage","message","msg","maxLength","maxLengthCreator","MessagesReduxForm","reduxForm","form","props","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","Messages","isAuth","state","messagesPage","Dialog","dialog","map","messages","messagesElement","messagesData","correspondence","newMessageText","values","sendMessage","newMessageBody","compose","connect","dispatch","sendNewMessageCreator","withAuthRedirect"],"mappings":"oKAmBeA,EAfI,SAACC,GAChB,IAAIC,EAAO,aAAeD,EAAYE,GACtC,OACI,cAAC,IAAD,CAASC,GAAIF,EAAMG,UAAU,OAA7B,SACI,0BAASA,UAAU,UAAnB,UACI,sBAAKA,UAAU,SAAf,UACI,oBAAIA,UAAU,WAAd,SAA0BJ,EAAYK,SACtC,qBAAKD,UAAU,OAAf,SAAuBJ,EAAYM,UAEvC,qBAAKF,UAAU,cAAf,SAA8BJ,EAAYO,oB,iBCa3CC,EAvBO,SAACC,GACnB,OAAO,qBAAKL,UAAU,cAAf,SAA8BK,EAAQC,O,0CCK3CC,EAAYC,YAAiB,KAgB7BC,EAAoBC,YAAU,CAChCC,KAAM,YADgBD,EAdL,SAACE,GAClB,OACI,uBAAMC,SAAUD,EAAME,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,KAAM,iBAC3BC,YAAY,qBAAqBnB,UAAU,YAAYoB,SAAU,CAACC,IAAUd,OAEvF,8BACI,wBAAQP,UAAU,eAAlB,0BA0CDsB,EAhCE,SAACV,GAMd,IAAKA,EAAMW,OAAQ,OAAO,cAAC,IAAD,CAAUxB,GAAG,WAEvC,IAAIyB,EAAQZ,EAAMa,aAEdC,EAASF,EAAMG,OAAOC,KAAI,SAACvB,GAAD,OAAa,cAAC,EAAD,CAAUC,IAAKD,EAAQwB,cAC9DC,EAAkBN,EAAMO,aAAaH,KAAI,SAACI,GAAD,OAAoB,cAAC,EAAD,CAAY/B,OAAQ+B,EAAe/B,OACvBE,YAAa6B,EAAe7B,YAC5BD,KAAM8B,EAAe9B,KACrBJ,GAAIkC,EAAelC,QAC3E0B,EAAMS,eAE3B,OACI,kCACI,0BAASjC,UAAU,WAAnB,UACK8B,EACD,oCACKJ,EACD,qBAAK1B,UAAU,WAAf,SACI,cAACS,EAAD,CAAmBI,SAtBnB,SAACqB,GACjBtB,EAAMuB,YAAYD,EAAOE,8B,yBCVlBC,sBAAQC,aAdC,SAACd,GACrB,MAAO,CACHC,aAAcD,EAAMC,iBAID,SAACc,GAC1B,MAAO,CACLJ,YAAa,SAACC,GACVG,EAASC,YAAsBJ,SAK8BK,IAAtDJ,CAAwEf","file":"static/js/4.0bb45c68.chunk.js","sourcesContent":["import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport '../Messages.css'\r\n\r\nconst DialogLink = (messageinfo) => {\r\n    let path = \"/messages/\" + messageinfo.id;\r\n    return (\r\n        <NavLink to={path} className=\"link\">\r\n            <section className=\"message\">\r\n                <div className=\"fl-row\">\r\n                    <h2 className=\"sendname\">{messageinfo.sender}</h2>\r\n                    <div className=\"time\">{messageinfo.time}</div>\r\n                </div>\r\n                <div className=\"lastmessage\">{messageinfo.lastmessage}</div>\r\n            </section>\r\n        </NavLink>\r\n    )\r\n};\r\n\r\nexport default DialogLink;","import React from \"react\";\r\nimport {sendNewMessageCreator, updateNewMessageTextCreator} from \"../../../redux/state\";\r\n\r\nconst DialogMessage = (message) => {\r\n    return <div className=\"textmessage\">{message.msg}</div>\r\n};\r\n\r\n/*const SendArea = (props) => {\r\n\r\n    let Dialog = props.state.dialog.map((message) => <DialogMessage msg={message.messages}/>);\r\n\r\n    let onMessageChange = (e) => {\r\n        let text = e.target.value;\r\n        props.dispatch(updateNewMessageTextCreator(text));\r\n    };\r\n\r\n    let onSendMessageClick = () => {\r\n        props.dispatch(sendNewMessageCreator());\r\n        props.dispatch(updateNewMessageTextCreator(''));\r\n    };\r\n\r\n    return (\r\n\r\n    )\r\n};*/\r\n\r\nexport default DialogMessage;","import React from 'react'\r\nimport './Messages.css'\r\nimport DialogLink from \"./Dialog/DialogLink\";\r\nimport SendArea from \"./DialogMessages/DialogMessages\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControl/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utilities/validators/validators\";\r\n\r\nconst maxLength = maxLengthCreator(100);\r\n\r\nconst MessagesForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={\"newMessageBody\"}\r\n                       placeholder=\"Enter your message\" className=\"inputarea\" validate={[required, maxLength]}/>\r\n            </div>\r\n            <div>\r\n                <button className=\"send__button\">Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst MessagesReduxForm = reduxForm({\r\n    form: 'messages'\r\n})(MessagesForm);\r\n\r\nconst Messages = (props) => {\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    };\r\n\r\n    if (!props.isAuth) return <Redirect to=\"/login\"/>;\r\n\r\n    let state = props.messagesPage;\r\n\r\n    let Dialog = state.dialog.map((message) => <SendArea msg={message.messages}/>);\r\n    let messagesElement = state.messagesData.map((correspondence) => <DialogLink sender={correspondence.sender}\r\n                                                                                 lastmessage={correspondence.lastmessage}\r\n                                                                                 time={correspondence.time}\r\n                                                                                 id={correspondence.id}/>);\r\n    let newMessageText = state.newMessageText;\r\n\r\n    return (\r\n        <section>\r\n            <section className=\"messages\">\r\n                {messagesElement}\r\n                <section>\r\n                    {Dialog}\r\n                    <div className=\"fl-row-j\">\r\n                        <MessagesReduxForm onSubmit={addNewMessage}/>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default Messages;","import './Messages.css'\r\nimport Messages from \"./Messages\";\r\nimport {sendNewMessageCreator} from \"../../redux/message-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n        dispatch(sendNewMessageCreator(newMessageBody));\r\n    }\r\n  }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Messages);"],"sourceRoot":""}