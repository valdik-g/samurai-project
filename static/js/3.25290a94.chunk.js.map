{"version":3,"sources":["assets/images/prev.png","assets/images/next.png","components/common/Paginator/Paginator.jsx","assets/images/picture_4.png","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["Paginator","props","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","portionsCount","portionSize","useState","portionNumber","setPortionNumber","leftBorder","rigthborder","className","onClick","src","prev","alt","filter","p","map","page","currentPage","onPageChange","next","User","user","followingInProgress","unfollow","follow","to","id","photos","small","userPhoto","followed","disabled","name","status","Users","t","users","totalUsersCount","getUsersSelector","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPIContainer","getUsers","this","Preloader","followingChange","React","Component","compose","connect","setCurrentPage","withAuthRedirect"],"mappings":"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","file":"static/js/3.25290a94.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/prev.95658d05.png\";","export default __webpack_public_path__ + \"static/media/next.ee76e8a8.png\";","import React, {useState} from 'react'\r\nimport \"./Paginator.css\"\r\nimport prev from \"../../../assets/images/prev.png\"\r\nimport next from \"../../../assets/images/next.png\"\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionsCount = Math.ceil(pagesCount / props.portionSize);\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    let leftBorder = (portionNumber - 1) * props.portionSize;\r\n    let rigthborder = portionNumber * props.portionSize;\r\n\r\n    return (<div className={\"pagination\"}>\r\n        {portionNumber >= 2 &&\r\n        <img onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }} className={\"prev\"} src={prev} alt={\"prev\"}/>}\r\n        {pages.filter(p => p >=leftBorder && p <= rigthborder).map(page => <div className={props.currentPage === page ? \"pagination__item selectedpage\" : \"pagination__item\"}\r\n                                onClick={() => {\r\n                                    props.onPageChange(page)\r\n                                }}>{page}</div>)}\r\n        {portionNumber < portionsCount &&\r\n        <img onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }} className={\"next\"} src={next} alt={\"next\"}/>}\r\n    </div>)\r\n};\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/picture_4.e8348d6f.png\";","import {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/picture_4.png\";\r\nimport React from \"react\";\r\n\r\nconst main = \"fl-row users__block2\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div className=\"fl-row\">\r\n            <div className=\"user__block\">\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img className=\"user__photo\" src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                         alt=\"\"/>\r\n                </NavLink>\r\n\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress} onClick={() =>\r\n                        unfollow(user.id)\r\n                    } className=\"user__action\"> Unfollow </button>\r\n                    : <button disabled={followingInProgress} onClick={() =>\r\n                        follow(user.id)\r\n                    } className=\"user__action\"> Follow </button>}\r\n            </div>\r\n            <div className={main}>\r\n                <div className=\"user__finfo\">\r\n                    <div className=\"user__title\"> {user.name} </div>\r\n                    <div className=\"user__status\"> {user.status} </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport './Users.css'\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\n\r\nconst Users = (props) => {\r\n    let t = props.users.map(user =>\r\n        <User user={user} key={user.id} followingInProgress={props.followingInProgress} follow={props.follow} unfollow={props.unfollow}/>\r\n        );\r\n\r\n    return (\r\n        <div className=\"users\">\r\n            {t}\r\n            <Paginator currentPage={props.currentPage} totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} onPageChange={props.onPageChange} portionSize={15}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users","export const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, followingChange, getUsers,\r\n    setCurrentPage,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching, getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSelector\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n        let {pageSize} = this.props;\r\n        this.props.getUsers(page, pageSize);\r\n    };\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage} users={this.props.users}\r\n                   unfollow={this.props.unfollow} follow={this.props.follow}\r\n                   onPageChange={this.onPageChange}\r\n                   followingChange={this.props.followingChange}/>\r\n        </>\r\n    }\r\n}\r\n\r\n/*const mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n};*/\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, followingChange, getUsers}), withAuthRedirect)(UsersAPIContainer)"],"sourceRoot":""}